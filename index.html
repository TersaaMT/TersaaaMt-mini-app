<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TersaaMt</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0e27;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —É–≥–æ–ª–∫–∏ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 50px;
            height: 50px;
            border-top: 3px solid #1a237e;
            border-left: 3px solid #1a237e;
            border-top-left-radius: 8px;
            z-index: 5;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            right: 0;
            width: 50px;
            height: 50px;
            border-top: 3px solid #1a237e;
            border-right: 3px solid #1a237e;
            border-top-right-radius: 8px;
            z-index: 5;
        }

        .header {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(79, 172, 254, 0.2);
        }

        .logo {
            font-size: 28px;
            font-weight: 900;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(79, 172, 254, 0.3);
            letter-spacing: 1px;
            position: relative;
            z-index: 101;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .invite-btn {
            width: 36px;
            height: 36px;
            border: none;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 10px;
            color: #ffffff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .invite-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(79, 172, 254, 0.4);
        }

        .settings-btn {
            width: 36px;
            height: 36px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: #ffffff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .settings-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .container {
            padding: 20px;
            padding-bottom: 100px;
            max-width: 100%;
        }

        .auth-screen {
            max-width: 400px;
            margin: 50px auto;
            padding: 30px;
        }

        .auth-title {
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
            font-weight: bold;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #b8c5d1;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(79, 172, 254, 0.3);
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn-primary {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            border: none;
            border-radius: 12px;
            color: #ffffff;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.4);
        }

        .strategies-container {
            padding: 0;
            margin: 0;
        }

        .section {
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            position: relative;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20px;
            right: 20px;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(79, 172, 254, 0.3) 15%, 
                rgba(79, 172, 254, 0.6) 30%, 
                rgba(0, 242, 254, 0.8) 50%, 
                rgba(79, 172, 254, 0.6) 70%, 
                rgba(79, 172, 254, 0.3) 85%, 
                transparent 100%);
            border-radius: 1px;
        }

        .section-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #4facfe;
        }

        .strategy-card {
            padding: 20px;
            margin-bottom: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            background: transparent;
            border-radius: 0;
        }

        .strategy-card::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                transparent 15%, 
                var(--strategy-color, #4facfe) 20%, 
                var(--strategy-color, #4facfe) 80%, 
                transparent 85%, 
                transparent 100%);
            opacity: 0.9;
        }

        .strategy-card:hover {
            transform: translateY(-2px);
        }

        .strategy-title {
            font-size: 18px;
            font-weight: bold;
            color: var(--strategy-color);
        }

        .strategy-ma14 {
            --strategy-color: #00c851;
        }

        .strategy-trendline {
            --strategy-color: #ff6b35;
        }

        .strategy-channel {
            --strategy-color: #9c27b0;
        }

        .signal-indicator {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            margin: 10px 0;
        }

        .signal-buy {
            background: linear-gradient(45deg, #00c851, #007e33);
            color: white;
        }

        .signal-sell {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            color: white;
        }

        .signal-neutral {
            background: linear-gradient(45deg, #ffbb33, #ff8800);
            color: white;
        }

        .news-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            position: relative;
        }

        .news-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20px;
            right: 20px;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(79, 172, 254, 0.2) 25%, 
                rgba(0, 242, 254, 0.4) 50%, 
                rgba(79, 172, 254, 0.2) 75%, 
                transparent 100%);
        }

        .news-item:hover {
            background: rgba(255, 255, 255, 0.12);
        }

        .news-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #ffffff;
        }

        .news-summary {
            color: #b8c5d1;
            font-size: 14px;
            line-height: 1.5;
        }

        .news-date {
            color: #4facfe;
            font-size: 12px;
            margin-top: 10px;
        }

        .tradingview-widget {
            height: 500px;
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            z-index: 1000;
        }

        .bottom-nav::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(79, 172, 254, 0.3) 25%, 
                rgba(0, 242, 254, 0.6) 50%, 
                rgba(79, 172, 254, 0.3) 75%, 
                transparent 100%);
        }

        /* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –Ω–∏–∂–Ω–∏–µ —É–≥–æ–ª–∫–∏ */
        .bottom-nav::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 30px;
            height: 30px;
            border-bottom: 2px solid #1a237e;
            border-left: 2px solid #1a237e;
            border-bottom-left-radius: 6px;
        }

        .bottom-nav-corner-right {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 30px;
            height: 30px;
            border-bottom: 2px solid #1a237e;
            border-right: 2px solid #1a237e;
            border-bottom-right-radius: 6px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 8px;
            border-radius: 12px;
            min-width: 70px;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(79, 172, 254, 0.2);
            transform: translateY(-2px);
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 5px;
        }

        .nav-label {
            font-size: 11px;
            font-weight: 500;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .support-form {
            max-width: 500px;
        }

        .strategy-detail {
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            position: relative;
        }

        .strategy-detail::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20px;
            right: 20px;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                var(--strategy-color, #4facfe) 50%, 
                transparent 100%);
            border-radius: 1px;
        }

        .floating-back-btn {
            position: fixed;
            top: 70px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: rgba(10, 14, 39, 0.9);
            border: none;
            border-radius: 50%;
            color: #ffffff;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 200;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .floating-back-btn:hover {
            background: rgba(79, 172, 254, 0.9);
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(79, 172, 254, 0.4);
        }

        .floating-back-btn.show {
            display: flex;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #b8c5d1;
        }

        .settings-dropdown {
            position: absolute;
            top: 60px;
            right: 20px;
            background: rgba(10, 14, 39, 0.95);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(20px);
            display: none;
            z-index: 200;
            min-width: 250px;
            border: 1px solid rgba(79, 172, 254, 0.3);
        }

        .settings-section {
            margin-bottom: 20px;
        }

        .settings-section:last-child {
            margin-bottom: 0;
        }

        .settings-title {
            font-size: 14px;
            font-weight: bold;
            color: #4facfe;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .settings-option {
            display: flex;
            align-items: center;
            padding: 10px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            margin-bottom: 5px;
        }

        .settings-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .settings-option:last-child {
            margin-bottom: 0;
        }

        .promo-input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .promo-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .promo-btn {
            width: 100%;
            padding: 8px;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            border: none;
            border-radius: 8px;
            color: #ffffff;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .promo-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .coin-selector {
            display: flex;
            gap: 10px;
            padding: 15px 20px;
            margin-bottom: 20px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .coin-btn {
            min-width: 80px;
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
        }

        .coin-btn.active {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
        }

        .coin-btn:not(.active) {
            background: rgba(255, 255, 255, 0.1);
            color: #b8c5d1;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .coin-btn:not(.active):hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
        }

        .coin-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }

        .news-filters {
            display: flex;
            gap: 10px;
            padding: 20px;
            margin-bottom: 10px;
            overflow-x: auto;
        }

        .filter-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .filter-btn.active {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: #ffffff;
        }

        .filter-btn:not(.active) {
            background: rgba(255, 255, 255, 0.1);
            color: #b8c5d1;
        }

        .filter-btn:not(.active):hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
        }

        .news-importance {
            display: inline-flex;
            align-items: center;
            gap: 2px;
            margin-right: 10px;
        }

        .news-importance.high {
            color: #ff4444;
        }

        .news-importance.medium {
            color: #ffc107;
        }

        .news-importance.low {
            color: #00c851;
        }

        .video-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .video-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 20px;
            bottom: 20px;
            width: 3px;
            background: linear-gradient(180deg, 
                rgba(79, 172, 254, 0.2) 0%, 
                rgba(79, 172, 254, 0.6) 50%, 
                rgba(79, 172, 254, 0.2) 100%);
            border-radius: 2px;
        }

        .video-item:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.12);
        }

        .video-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #00f2fe;
        }

        .video-duration {
            color: #4facfe;
            font-size: 14px;
        }

        .stats-section {
            border-radius: 20px;
            padding: 25px;
            margin-top: 20px;
            position: relative;
        }

        .stats-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20px;
            right: 20px;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 193, 7, 0.4) 25%, 
                rgba(255, 193, 7, 0.8) 50%, 
                rgba(255, 193, 7, 0.4) 75%, 
                transparent 100%);
            border-radius: 1px;
        }

        .stats-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #ffc107;
        }

        .stats-question {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .stats-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 15px;
        }

        .stats-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .stats-btn.yes {
            background: linear-gradient(45deg, #00c851, #007e33);
            color: white;
        }

        .stats-btn.no {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            color: white;
        }

        .stats-btn:hover {
            transform: scale(1.05);
        }

        .stats-result {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .stats-counter {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .counter-label {
            color: #b8c5d1;
        }

        .counter-value {
            font-size: 18px;
            font-weight: bold;
            color: #00f2fe;
        }

        .strategy-usage {
            margin-top: 20px;
        }

        .usage-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .usage-item:last-child {
            border-bottom: none;
        }

        .usage-strategy {
            color: #ffffff;
            font-weight: 500;
        }

        .usage-count {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .crypto-ticker {
            width: 100%;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px);
            border-radius: 12px;
            padding: 12px 0;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .crypto-ticker-content {
            display: flex;
            animation: scroll-left 25s linear infinite;
            white-space: nowrap;
        }

        .crypto-item {
            display: inline-flex;
            align-items: center;
            margin-right: 35px;
            font-size: 13px;
            color: #ffffff;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.05);
            padding: 8px 12px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .crypto-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            color: #ffffff;
        }

        .crypto-symbol {
            color: #ffffff;
            margin-right: 6px;
            font-weight: 600;
            font-size: 12px;
        }

        .crypto-price {
            color: #00c851;
            font-weight: 600;
        }

        .crypto-change {
            color: #00c851;
            font-size: 11px;
            margin-left: 4px;
        }

        .video-lessons-section {
            position: relative;
            padding: 25px;
            margin-bottom: 20px;
        }

        .video-lessons-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20px;
            right: 20px;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 215, 0, 0.3) 20%, 
                rgba(255, 215, 0, 0.8) 50%, 
                rgba(255, 215, 0, 0.3) 80%, 
                transparent 100%);
        }

        .video-lessons-section::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 20px;
            right: 20px;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 215, 0, 0.3) 20%, 
                rgba(255, 215, 0, 0.8) 50%, 
                rgba(255, 215, 0, 0.3) 80%, 
                transparent 100%);
        }

        .video-lessons-title {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            color: #ffd700;
            margin-bottom: 30px;
            position: relative;
        }

        .crypto-change.negative {
            color: #ff4444;
        }

        .video-lessons-content {
            text-align: center;
            padding: 40px 20px;
            color: #b8c5d1;
        }

        .crypto-ticker::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 20px;
            right: 20px;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 215, 0, 0.3) 20%, 
                rgba(255, 215, 0, 0.8) 50%, 
                rgba(255, 215, 0, 0.3) 80%, 
                transparent 100%);
        }

        @keyframes scroll-left {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px;
                padding-bottom: 100px;
            }
            
            .auth-screen {
                margin: 20px auto;
                padding: 20px;
            }
            
            .nav-label {
                font-size: 10px;
            }

            .floating-back-btn {
                top: 15px;
                left: 15px;
                width: 36px;
                height: 36px;
                font-size: 16px;
            }

            .logo {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">TersaaMt</div>
        <div class="header-right">
            <button class="invite-btn" onclick="inviteFriend()" title="–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <circle cx="9" cy="7" r="4" fill="currentColor"/>
                    <path d="M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M21 21v-2a4 4 0 0 0-3-3.85" stroke="currentColor" stroke-width="2" fill="none"/>
                    <circle cx="18" cy="9" r="2" fill="none" stroke="currentColor" stroke-width="2"/>
                    <line x1="14" y1="14" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
                    <line x1="17" y1="11" x2="17" y2="17" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
            <button class="invite-btn" onclick="showProfile()" title="–ü—Ä–æ—Ñ–∏–ª—å" style="margin-right: 10px;">
                üë§
            </button>
            <button class="settings-btn" onclick="toggleSettingsDropdown()">‚öôÔ∏è</button>
        </div>
        
        <div class="settings-dropdown" id="settingsDropdown">
            <!-- –Ø–∑—ã–∫–∏ -->
            <div class="settings-section">
                <div class="settings-title">
                    üî§ –Ø–∑—ã–∫
                </div>
                <div class="settings-option" onclick="setLanguage('ru')">
                    <span style="margin-right: 10px;">üá∑üá∫</span> –†—É—Å—Å–∫–∏–π
                </div>
                <div class="settings-option" onclick="setLanguage('en')">
                    <span style="margin-right: 10px;">üá¨üáß</span> English
                </div>
                <div class="settings-option" onclick="setLanguage('uz')">
                    <span style="margin-right: 10px;">üá∫üáø</span> O'zbek
                </div>
                <div class="settings-option" onclick="setLanguage('ja')">
                    <span style="margin-right: 10px;">üáØüáµ</span> Japanese
                </div>
            </div>

            <!-- –¢–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞ -->
            <div class="settings-section">
                <div class="settings-title">
                    üìâ –¢–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞
                </div>
                <div class="settings-option" onclick="setChartType('candles')">
                    <span style="margin-right: 10px;">üïØÔ∏è</span> –Ø–ø–æ–Ω—Å–∫–∏–µ —Å–≤–µ—á–∏
                </div>
                <div class="settings-option" onclick="setChartType('bars')">
                    <span style="margin-right: 10px;">üìä</span> –ë–∞—Ä—ã
                </div>
            </div>

            <!-- –ü—Ä–æ–º–æ–∫–æ–¥ -->
            <div class="settings-section">
                <div class="settings-title">
                    üéÅ –ü—Ä–æ–º–æ–∫–æ–¥
                </div>
                <input type="text" class="promo-input" id="promoInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥">
                <button class="promo-btn" onclick="activatePromo()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>

            <!-- FAQ -->
            <div class="settings-section">
                <div class="settings-title">
                    ‚ùì FAQ
                </div>
                <div class="settings-option" onclick="showFAQ()">
                    <span style="margin-right: 10px;">üìã</span> –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" -->
    <button class="floating-back-btn" id="floatingBackBtn" onclick="goBack()">
        ‚Üê
    </button>

    <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="authScreen" class="auth-screen">
        <h1 class="auth-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h1>
        <form id="authForm">
            <div class="form-group">
                <label class="form-label">–ò–º—è</label>
                <input type="text" class="form-input" id="firstName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" required>
            </div>
            <div class="form-group">
                <label class="form-label">–§–∞–º–∏–ª–∏—è</label>
                <input type="text" class="form-input" id="lastName" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é" required>
            </div>
            <div class="form-group">
                <label class="form-label">–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                <input type="number" class="form-input" id="birthYear" placeholder="1990" min="1950" max="2010" required>
            </div>
            <div class="form-group">
                <label class="form-label">–û–ø—ã—Ç –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ</label>
                <select class="form-select" id="experience" required>
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—ã—Ç</option>
                    <option value="beginner">–ù–æ–≤–∏—á–æ–∫ (0-6 –º–µ—Å—è—Ü–µ–≤)</option>
                    <option value="intermediate">–°—Ä–µ–¥–Ω–∏–π (6 –º–µ—Å—è—Ü–µ–≤ - 2 –≥–æ–¥–∞)</option>
                    <option value="advanced">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π (2-5 –ª–µ—Ç)</option>
                    <option value="expert">–≠–∫—Å–ø–µ—Ä—Ç (5+ –ª–µ—Ç)</option>
                </select>
            </div>
            <button type="submit" class="btn-primary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </form>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div id="mainApp" style="display: none;">
        <div class="container">
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ì–ª–∞–≤–Ω–∞—è -->
            <div id="homePage" class="page active">
                <!-- –ë–ª–æ–∫ –í–∏–¥–µ–æ —É—Ä–æ–∫–∏ -->
                <div class="video-lessons-section">
                    <h2 class="video-lessons-title">–í–∏–¥–µ–æ —É—Ä–æ–∫–∏</h2>
                    
                    <div class="video-lessons-content">
                        <div style="font-size: 48px; margin-bottom: 20px;">üìö</div>
                        <p style="font-size: 18px; line-height: 1.6;">
                            –°–∫–æ—Ä–æ —Ç—É—Ç –±—É–¥—É—Ç –æ–±—É—á–∞—é—â–∏–µ –≤–∏–¥–µ–æ—É—Ä–æ–∫–∏.
                        </p>
                    </div>
                </div>

                <!-- –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–π —Ç–∏–∫–µ—Ä -->
                <div class="crypto-ticker">
                    <div class="crypto-ticker-content">
                        <div class="crypto-item">
                            <div class="crypto-icon" style="background: linear-gradient(45deg, #f7931a, #ffb74d);">‚Çø</div>
                            <span class="crypto-symbol">BTC</span>
                            <span class="crypto-price">$57,284</span>
                            <span class="crypto-change">+2.3%</span>
                        </div>
                        <div class="crypto-item">
                            <div class="crypto-icon" style="background: linear-gradient(45deg, #627eea, #8fa4f3);">Œû</div>
                            <span class="crypto-symbol">ETH</span>
                            <span class="crypto-price">$3,120</span>
                            <span class="crypto-change">+1.8%</span>
                        </div>
                        <div class="crypto-item">
                            <div class="crypto-icon" style="background: linear-gradient(45deg, #26a17b, #4caf50);">‚ÇÆ</div>
                            <span class="crypto-symbol">USDT</span>
                            <span class="crypto-price">$1.00</span>
                            <span class="crypto-change">+0.01%</span>
                        </div>
                        <div class="crypto-item">
                            <div class="crypto-icon" style="background: linear-gradient(45deg, #23292f, #4a5568);">‚äó</div>
                            <span class="crypto-symbol">XRP</span>
                            <span class="crypto-price">$0.52</span>
                            <span class="crypto-change negative">-0.5%</span>
                        </div>
                        <div class="crypto-item">
                            <div class="crypto-icon" style="background: linear-gradient(45deg, #f3ba2f, #fdd835);">B</div>
                            <span class="crypto-symbol">BNB</span>
                            <span class="crypto-price">$315.48</span>
                            <span class="crypto-change">+3.2%</span>
                        </div>
                        <div class="crypto-item">
                            <div class="crypto-icon" style="background: linear-gradient(45deg, #9945ff, #14f195);">‚óé</div>
                            <span class="crypto-symbol">SOL</span>
                            <span class="crypto-price">$145.67</span>
                            <span class="crypto-change">+5.4%</span>
                        </div>
                        <div class="crypto-item">
                            <div class="crypto-icon" style="background: linear-gradient(45deg, #2775ca, #42a5f5);">$</div>
                            <span class="crypto-symbol">USDC</span>
                            <span class="crypto-price">$1.00</span>
                            <span class="crypto-change">+0.00%</span>
                        </div>
                        <div class="crypto-item">
                            <div class="crypto-icon" style="background: linear-gradient(45deg, #c2a633, #ffc107);">ƒê</div>
                            <span class="crypto-symbol">DOGE</span>
                            <span class="crypto-price">$0.084</span>
                            <span class="crypto-change">+8.7%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ -->
            <div id="strategiesPage" class="page">
                <!-- –°–µ–ª–µ–∫—Ç–æ—Ä –º–æ–Ω–µ—Ç -->
                <div class="coin-selector">
                    <button class="coin-btn active" onclick="selectCoin('BTCUSDT')" data-coin="BTCUSDT">
                        <div class="coin-icon" style="background: linear-gradient(45deg, #f7931a, #ffb74d); color: white; display: flex; align-items: center; justify-content: center; font-size: 8px; font-weight: bold;">‚Çø</div>
                        BTC
                    </button>
                    <button class="coin-btn" onclick="selectCoin('ETHUSDT')" data-coin="ETHUSDT">
                        <div class="coin-icon" style="background: linear-gradient(45deg, #627eea, #8fa4f3); color: white; display: flex; align-items: center; justify-content: center; font-size: 8px; font-weight: bold;">Œû</div>
                        ETH
                    </button>
                    <button class="coin-btn" onclick="selectCoin('BNBUSDT')" data-coin="BNBUSDT">
                        <div class="coin-icon" style="background: linear-gradient(45deg, #f3ba2f, #fdd835); color: white; display: flex; align-items: center; justify-content: center; font-size: 8px; font-weight: bold;">B</div>
                        BNB
                    </button>
                    <button class="coin-btn" onclick="selectCoin('SOLUSDT')" data-coin="SOLUSDT">
                        <div class="coin-icon" style="background: linear-gradient(45deg, #9945ff, #14f195); color: white; display: flex; align-items: center; justify-content: center; font-size: 8px; font-weight: bold;">‚óé</div>
                        SOL
                    </button>
                    <button class="coin-btn" onclick="selectCoin('XRPUSDT')" data-coin="XRPUSDT">
                        <div class="coin-icon" style="background: linear-gradient(45deg, #23292f, #4a5568); color: white; display: flex; align-items: center; justify-content: center; font-size: 8px; font-weight: bold;">‚äó</div>
                        XRP
                    </button>
                    <button class="coin-btn" onclick="selectCoin('ADAUSDT')" data-coin="ADAUSDT">
                        <div class="coin-icon" style="background: linear-gradient(45deg, #0033ad, #3f51b5); color: white; display: flex; align-items: center; justify-content: center; font-size: 8px; font-weight: bold;">‚Ç≥</div>
                        ADA
                    </button>
                </div>

                <div class="strategies-container">
                    <h2 class="strategies-title">üìà –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</h2>
                    
                    <div class="strategies-chart" id="mainChart"></div>
                    
                    <div style="margin: 20px; margin-bottom: 25px; cursor: pointer;" onclick="showStrategy('ma14')">
                        <div style="width: 100%; height: 1px; background: linear-gradient(90deg, transparent 0%, rgba(0, 200, 81, 0.3) 20%, rgba(0, 200, 81, 0.8) 50%, rgba(0, 200, 81, 0.3) 80%, transparent 100%); margin-bottom: 10px;"></div>
                        <div style="text-align: center; font-size: 16px; font-weight: 600; color: #00c851; margin: 8px 0;">MA14</div>
                        <div style="width: 100%; height: 1px; background: linear-gradient(90deg, transparent 0%, rgba(0, 200, 81, 0.3) 20%, rgba(0, 200, 81, 0.8) 50%, rgba(0, 200, 81, 0.3) 80%, transparent 100%); margin-top: 10px;"></div>
                    </div>
                    <div style="margin: 20px; margin-bottom: 25px; cursor: pointer;" onclick="showStrategy('trendline')">
                        <div style="width: 100%; height: 1px; background: linear-gradient(90deg, transparent 0%, rgba(255, 107, 53, 0.3) 20%, rgba(255, 107, 53, 0.8) 50%, rgba(255, 107, 53, 0.3) 80%, transparent 100%); margin-bottom: 10px;"></div>
                        <div style="text-align: center; font-size: 16px; font-weight: 600; color: #ff6b35; margin: 8px 0;">–ü—Ä–æ–±–æ–π —Ç—Ä–µ–Ω–¥–æ–≤–æ–π –ª–∏–Ω–∏–∏</div>
                        <div style="width: 100%; height: 1px; background: linear-gradient(90deg, transparent 0%, rgba(255, 107, 53, 0.3) 20%, rgba(255, 107, 53, 0.8) 50%, rgba(255, 107, 53, 0.3) 80%, transparent 100%); margin-top: 10px;"></div>
                    </div>
                    <div style="margin: 20px; margin-bottom: 25px; cursor: pointer;" onclick="showStrategy('channel')">
                        <div style="width: 100%; height: 1px; background: linear-gradient(90deg, transparent 0%, rgba(156, 39, 176, 0.3) 20%, rgba(156, 39, 176, 0.8) 50%, rgba(156, 39, 176, 0.3) 80%, transparent 100%); margin-bottom: 10px;"></div>
                        <div style="text-align: center; font-size: 16px; font-weight: 600; color: #9c27b0; margin: 8px 0;">–¢—Ä–µ–Ω–¥–æ–≤—ã–π –∫–∞–Ω–∞–ª</div>
                        <div style="width: 100%; height: 1px; background: linear-gradient(90deg, transparent 0%, rgba(156, 39, 176, 0.3) 20%, rgba(156, 39, 176, 0.8) 50%, rgba(156, 39, 176, 0.3) 80%, transparent 100%); margin-top: 10px;"></div>
                    </div>
                </div>
            </div>

            <!-- –î–µ—Ç–∞–ª–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ -->
            <div id="strategyDetail" class="page">
                <div class="strategy-detail">
                    <h2 class="section-title" id="strategyDetailTitle"></h2>
                    <div id="strategyDetailContent"></div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–∞—à–∞ —Å–µ–º—å—è -->
            <div id="familyPage" class="page">
                <div class="section">
                    <h2 class="section-title">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –ù–∞—à–∞ —Å–µ–º—å—è</h2>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ "–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å" -->
                    <div style="margin-bottom: 30px;">
                        <button class="btn-primary" onclick="showProfile()" style="background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%); margin-top: 0;">
                            üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                        </button>
                    </div>
                    
                    <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–µ–º—å–∏ -->
                    <div id="familyMembers">
                        <div style="background: rgba(255, 255, 255, 0.08); border-radius: 15px; padding: 20px; margin-bottom: 15px; display: flex; align-items: center; gap: 15px;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #00c851, #007e33); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white;">
                                üëë
                            </div>
                            <div style="flex: 1;">
                                <div style="color: #ffffff; font-weight: bold; margin-bottom: 5px;">–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ö.</div>
                                <div style="color: #00c851; font-size: 14px;">–ì–ª–∞–≤–∞ —Å–µ–º—å–∏ ‚Ä¢ –≠–∫—Å–ø–µ—Ä—Ç ‚Ä¢ 1,247 –æ—á–∫–æ–≤</div>
                            </div>
                            <div style="background: linear-gradient(45deg, #ffc107, #ff8800); color: white; padding: 4px 8px; border-radius: 10px; font-size: 12px; font-weight: bold;">
                                VIP
                            </div>
                        </div>
                        
                        <div style="background: rgba(255, 255, 255, 0.08); border-radius: 15px; padding: 20px; margin-bottom: 15px; display: flex; align-items: center; gap: 15px;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #4facfe, #00f2fe); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white;">
                                üë§
                            </div>
                            <div style="flex: 1;">
                                <div style="color: #ffffff; font-weight: bold; margin-bottom: 5px;">–ú–∞—Ä–∏—è –°.</div>
                                <div style="color: #4facfe; font-size: 14px;">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π ‚Ä¢ 892 –æ—á–∫–∞</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.2); color: #b8c5d1; padding: 4px 8px; border-radius: 10px; font-size: 12px; font-weight: bold;">
                                PRO
                            </div>
                        </div>
                        
                        <div style="background: rgba(255, 255, 255, 0.08); border-radius: 15px; padding: 20px; margin-bottom: 15px; display: flex; align-items: center; gap: 15px;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #9c27b0, #e91e63); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white;">
                                üë§
                            </div>
                            <div style="flex: 1;">
                                <div style="color: #ffffff; font-weight: bold; margin-bottom: 5px;">–î–º–∏—Ç—Ä–∏–π –ü.</div>
                                <div style="color: #9c27b0; font-size: 14px;">–°—Ä–µ–¥–Ω–∏–π ‚Ä¢ 634 –æ—á–∫–∞</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.1); color: #b8c5d1; padding: 4px 8px; border-radius: 10px; font-size: 12px; font-weight: bold;">
                                FREE
                            </div>
                        </div>
                    </div>
                    
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ–º—å–∏ -->
                    <div style="background: rgba(255, 255, 255, 0.08); border-radius: 15px; padding: 20px; margin-top: 30px;">
                        <h4 style="color: #ffc107; margin-bottom: 15px;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ–º—å–∏</h4>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span style="color: #b8c5d1;">–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:</span>
                            <span style="color: #ffffff; font-weight: 500;">4 —á–µ–ª–æ–≤–µ–∫–∞</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span style="color: #b8c5d1;">–û–±—â–∏–µ –æ—á–∫–∏:</span>
                            <span style="color: #00f2fe; font-weight: 500;">2,773 –æ—á–∫–∞</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="color: #b8c5d1;">–ú–µ—Å—Ç–æ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ:</span>
                            <span style="color: #ffc107; font-weight: 500;">#1247</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–æ–≤–æ—Å—Ç–∏ -->
            <div id="newsPage" class="page">
                <div class="section">
                    <h2 class="section-title">üì∞ –ö—Ä–∏–ø—Ç–æ –Ω–æ–≤–æ—Å—Ç–∏</h2>
                    
                    <!-- –§–∏–ª—å—Ç—Ä—ã –≤–∞–∂–Ω–æ—Å—Ç–∏ -->
                    <div class="news-filters">
                        <button class="filter-btn active" onclick="filterNews('all')" data-filter="all">
                            üì∞ –í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏
                        </button>
                        <button class="filter-btn" onclick="filterNews('high')" data-filter="high">
                            ‚≠ê‚≠ê‚≠ê –í—ã—Å–æ–∫–∞—è
                        </button>
                        <button class="filter-btn" onclick="filterNews('medium')" data-filter="medium">
                            ‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è
                        </button>
                        <button class="filter-btn" onclick="filterNews('low')" data-filter="low">
                            ‚≠ê –ù–∏–∑–∫–∞—è
                        </button>
                    </div>
                    
                    <div id="newsContainer">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...</div>
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ -->
            <div id="analyticsPage" class="page">
                <div class="section">
                    <h2 class="section-title">üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
                    
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div class="stats-section">
                        <h3 class="stats-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
                        
                        <div class="stats-question">
                            <p style="margin-bottom: 10px; font-size: 16px; color: #ffffff;">–í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏?</p>
                            <div class="stats-buttons">
                                <button class="stats-btn yes" onclick="setStrategyUsage(true)">‚úÖ –î–∞</button>
                                <button class="stats-btn no" onclick="setStrategyUsage(false)">‚ùå –ù–µ—Ç</button>
                            </div>
                        </div>

                        <div class="stats-result" id="statsResult">
                            <div class="stats-counter">
                                <span class="counter-label">–í—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π:</span>
                                <span class="counter-value" id="totalUsage">0</span>
                            </div>
                            
                            <div class="strategy-usage" id="strategyUsage">
                                <div class="usage-item">
                                    <span class="usage-strategy">MA14</span>
                                    <span class="usage-count" id="ma14Count">0</span>
                                </div>
                                <div class="usage-item">
                                    <span class="usage-strategy">–¢—Ä–µ–Ω–¥–æ–≤–∞—è –ª–∏–Ω–∏—è</span>
                                    <span class="usage-count" id="trendlineCount">0</span>
                                </div>
                                <div class="usage-item">
                                    <span class="usage-strategy">–¢—Ä–µ–Ω–¥–æ–≤—ã–π –∫–∞–Ω–∞–ª</span>
                                    <span class="usage-count" id="channelCount">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; padding: 40px 20px; color: #b8c5d1; margin-top: 30px;">
                        <div style="font-size: 48px; margin-bottom: 20px;">üìà</div>
                        <h3 style="color: #00f2fe; margin-bottom: 15px;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
                        <p style="line-height: 1.6;">
                            ‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∞—à–∏—Ö —Å–¥–µ–ª–æ–∫<br>
                            ‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π<br>
                            ‚Ä¢ –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤<br>
                            ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
                        </p>
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ü—Ä–æ—Ñ–∏–ª—å -->
            <div id="profilePage" class="page">
                <div class="section">
                    <h2 class="section-title">üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
                    
                    <div id="profileContent">
                        <div style="text-align: center; margin-bottom: 30px;">
                            <div style="width: 80px; height: 80px; background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%); border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 32px; color: white;">
                                üë§
                            </div>
                            <h3 style="color: #4facfe; margin-bottom: 5px;" id="profileName">–ò–º—è –§–∞–º–∏–ª–∏—è</h3>
                            <p style="color: #b8c5d1; font-size: 14px;" id="profileExperience">–û–ø—ã—Ç –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ</p>
                        </div>
                        
                        <div style="background: rgba(255, 255, 255, 0.08); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <span style="color: #b8c5d1;">–ò–º—è:</span>
                                <span style="color: #ffffff; font-weight: 500;" id="profileFirstName">-</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <span style="color: #b8c5d1;">–§–∞–º–∏–ª–∏—è:</span>
                                <span style="color: #ffffff; font-weight: 500;" id="profileLastName">-</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <span style="color: #b8c5d1;">–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è:</span>
                                <span style="color: #ffffff; font-weight: 500;" id="profileBirthYear">-</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="color: #b8c5d1;">–û–ø—ã—Ç:</span>
                                <span style="color: #ffffff; font-weight: 500;" id="profileExp">-</span>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255, 255, 255, 0.08); border-radius: 15px; padding: 20px;">
                            <h4 style="color: #00f2fe; margin-bottom: 15px;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <span style="color: #b8c5d1;">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                                <span style="color: #ffffff; font-weight: 500;" id="profileRegistered">-</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="color: #b8c5d1;">Premium –¥–æ—Å—Ç—É–ø:</span>
                                <span style="color: #ffc107; font-weight: 500;" id="profilePremium">–ù–µ—Ç</span>
                            </div>
                        </div>
                        
                        <button class="btn-primary" onclick="editProfile()" style="margin-top: 20px;">
                            ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                        </button>
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ -->
            <div id="supportPage" class="page">
                <div class="section">
                    <h2 class="section-title">üõü –ü–æ–¥–¥–µ—Ä–∂–∫–∞</h2>
                    <form class="support-form" id="supportForm">
                        <div class="form-group">
                            <label class="form-label">–ò–º—è</label>
                            <input type="text" class="form-input" id="supportName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–¢–µ–º–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
                            <input type="text" class="form-input" id="supportSubject" placeholder="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea class="form-input" id="supportDescription" rows="5" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É –∏–ª–∏ –≤–æ–ø—Ä–æ—Å" required style="resize: vertical; min-height: 120px;"></textarea>
                        </div>
                        <button type="submit" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é -->
        <div class="bottom-nav">
            <div class="bottom-nav-corner-right"></div>
            <div class="nav-item active" onclick="showPage('home')">
                <div class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="nav-label">–í–∏–¥–µ–æ —É—Ä–æ–∫–∏</div>
            </div>
            <div class="nav-item" onclick="showPage('strategies')">
                <div class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
                        <circle cx="12" cy="12" r="6" stroke="currentColor" stroke-width="2" fill="none"/>
                        <circle cx="12" cy="12" r="2" fill="currentColor"/>
                        <path d="M12 2l2 4-2-1-2 1z" fill="currentColor"/>
                        <rect x="11.5" y="6" width="1" height="6" fill="currentColor"/>
                        <path d="M10 14l2-1 2 1v2l-2-1-2 1z" fill="currentColor"/>
                        <path d="M10.5 15.5l1-0.5 1 0.5v1l-1-0.5-1 0.5z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="nav-label">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏</div>
            </div>
            <div class="nav-item" onclick="showPage('family')">
                <div class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2M4 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2m5 0c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2" stroke="currentColor" stroke-width="1"/>
                        <path d="M12.5 11H17v6c0 .55-.45 1-1 1h-2c-.55 0-1-.45-1-1v-6M11.5 11H7v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6M14 9h-4c-.83 0-1.5.67-1.5 1.5v.5h7v-.5c0-.83-.67-1.5-1.5-1.5" fill="currentColor"/>
                    </svg>
                </div>
                <div class="nav-label">–ù–∞—à–∞ —Å–µ–º—å—è</div>
            </div>
            <div class="nav-item" onclick="showPage('news')">
                <div class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
                        <line x1="9" y1="9" x2="9.01" y2="9"/>
                        <line x1="15" y1="9" x2="15.01" y2="9"/>
                    </svg>
                </div>
                <div class="nav-label">–ù–æ–≤–æ—Å—Ç–∏</div>
            </div>
            <div class="nav-item" onclick="showPage('analytics')">
                <div class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <rect x="2" y="3" width="6" height="8" rx="1" stroke="currentColor" stroke-width="2" fill="none"/>
                        <rect x="3" y="5" width="4" height="1" fill="currentColor"/>
                        <rect x="3" y="7" width="2" height="1" fill="currentColor"/>
                        <rect x="3" y="8" width="2" height="1" fill="currentColor"/>
                        <rect x="6" y="8" width="1" height="1" fill="currentColor"/>
                        <circle cx="16" cy="8" r="6" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M16 5v3l2 2" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M12 16l2-2" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </div>
                <div class="nav-label">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</div>
            </div>
            <div class="nav-item" onclick="showPage('support')">
                <div class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M16 2v2M8 2v2M20 8h-2M6 8H4M20 16h-2M6 16H4" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                </div>
                <div class="nav-label">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram?.WebApp || {
            ready: () => {},
            expand: () => {},
            sendData: (data) => console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö:', data),
            showAlert: (message) => alert(message)
        };

        tg.ready();
        tg.expand();

        let currentLanguage = 'ru';
        let userProfile = null;
        let currentPage = 'home';
        let navigationStack = [];
        let currentCoin = 'BTCUSDT';
        let currentChartType = 'candles';
        let currentNewsFilter = 'all';
        let allNews = [];

        // –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
        const translations = {
            ru: {
                welcome: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å",
                firstName: "–ò–º—è",
                lastName: "–§–∞–º–∏–ª–∏—è",
                birthYear: "–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è", 
                experience: "–û–ø—ã—Ç –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ",
                continue: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å",
                home: "–í–∏–¥–µ–æ —É—Ä–æ–∫–∏",
                strategies: "–°—Ç—Ä–∞—Ç–µ–≥–∏–∏",
                family: "–ù–∞—à–∞ —Å–µ–º—å—è",
                news: "–ù–æ–≤–æ—Å—Ç–∏",
                analytics: "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞",
                support: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞"
            },
            en: {
                welcome: "Welcome",
                firstName: "First Name",
                lastName: "Last Name", 
                birthYear: "Birth Year",
                experience: "Trading Experience",
                continue: "Continue",
                home: "Lessons",
                strategies: "Strategies",
                family: "Our Family", 
                news: "News",
                analytics: "Analytics",
                support: "Support"
            },
            uz: {
                welcome: "Xush kelibsiz",
                firstName: "Ism",
                lastName: "Familiya",
                birthYear: "Tug'ilgan yil", 
                experience: "Savdo tajribasi",
                continue: "Davom etish",
                home: "Darslar",
                strategies: "Strategiyalar",
                family: "Bizning oila",
                news: "Yangiliklar",
                analytics: "Tahlil",
                support: "Yordam"
            },
            ja: {
                welcome: "„ÅÑ„Çâ„Å£„Åó„ÇÉ„ÅÑ„Åæ„Åõ",
                firstName: "ÂêçÂâç",
                lastName: "ËãóÂ≠ó",
                birthYear: "ÁîüÂπ¥", 
                experience: "ÂèñÂºïÁµåÈ®ì",
                continue: "Á∂öË°å",
                home: "„É¨„ÉÉ„Çπ„É≥",
                strategies: "Êà¶Áï•",
                family: "ÁßÅ„Åü„Å°„ÅÆÂÆ∂Êóè",
                news: "„Éã„É•„Éº„Çπ",
                analytics: "ÂàÜÊûê",
                support: "„Çµ„Éù„Éº„Éà"
            }
        };

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            checkAuth();
            loadNews();
            loadStats();
        });

        function checkAuth() {
            const savedProfile = JSON.parse(localStorage.getItem('userProfile') || 'null');
            if (savedProfile) {
                userProfile = savedProfile;
                showMainApp();
            }
        }

        function showMainApp() {
            document.getElementById('authScreen').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        document.getElementById('authForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                birthYear: parseInt(document.getElementById('birthYear').value),
                experience: document.getElementById('experience').value,
                timestamp: new Date().toISOString()
            };

            localStorage.setItem('userProfile', JSON.stringify(formData));
            userProfile = formData;
            tg.sendData(JSON.stringify(formData));
            showMainApp();
        });

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
        function showPage(pageName) {
            if (pageName !== currentPage) {
                navigationStack.push(currentPage);
            }
            
            currentPage = pageName;

            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            document.getElementById(pageName + 'Page').classList.add('active');

            const navItems = document.querySelectorAll('.nav-item');
            const pageIndex = ['home', 'strategies', 'family', 'news', 'analytics', 'support'].indexOf(pageName);
            if (pageIndex !== -1 && navItems[pageIndex]) {
                navItems[pageIndex].classList.add('active');
            }

            updateBackButton();

            if (pageName === 'strategies') {
                setTimeout(() => {
                    initTradingViewChart('mainChart');
                }, 100);
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
        function showStrategy(strategyType) {
            navigationStack.push(currentPage);
            currentPage = 'strategyDetail';
            
            document.getElementById('strategiesPage').classList.remove('active');
            document.getElementById('strategyDetail').classList.add('active');

            incrementStrategyUsage(strategyType);

            const strategies = {
                ma14: {
                    title: 'MA14',
                    color: '#00c851',
                    content: `
                        <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –∑–∞–∫—Ä—ã—Ç–∏—è —Å–≤–µ—á–µ–π —Å MA14 (—Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è –∑–∞ 14 —Å–≤–µ—á–µ–π)</p>
                        <h3>–°–∏–≥–Ω–∞–ª—ã:</h3>
                        <ul>
                            <li><strong>BUY (–ø–æ–∫—É–ø–∫–∞):</strong> —Ü–µ–Ω–∞ –≤—ã—à–µ MA14 –∏ 3 —Å–≤–µ—á–∏ –ø–æ–¥—Ä—è–¥ –∑–∞–∫—Ä—ã–ª–∏—Å—å –≤—ã—à–µ MA14</li>
                            <li><strong>SELL (–ø—Ä–æ–¥–∞–∂–∞):</strong> —Ü–µ–Ω–∞ –Ω–∏–∂–µ MA14 –∏ 3 —Å–≤–µ—á–∏ –ø–æ–¥—Ä—è–¥ –∑–∞–∫—Ä—ã–ª–∏—Å—å –Ω–∏–∂–µ MA14</li>
                            <li><strong>NEUTRAL:</strong> –µ—Å–ª–∏ —Å–≤–µ—á–∞ –ø–µ—Ä–µ—Å–µ–∫–ª–∞ MA14 –∏ –∑–∞–∫—Ä–µ–ø–∏–ª–∞—Å—å, –Ω–æ –µ—â—ë –Ω–µ—Ç 3 —Å–≤–µ—á–µ–π</li>
                        </ul>
                        <p><strong>–í–∞–∂–Ω–æ:</strong> –ï—Å–ª–∏ —Å–≤–µ—á–∞ –ø–µ—Ä–µ—Å–µ–∫–ª–∞ MA14, –Ω–æ –≤–µ—Ä–Ω—É–ª–∞—Å—å –Ω–∞–∑–∞–¥, —Å–∏–≥–Ω–∞–ª –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º.</p>
                        <div class="signal-indicator signal-buy">–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: BUY</div>
                    `
                },
                trendline: {
                    title: '–ü—Ä–æ–±–æ–π —Ç—Ä–µ–Ω–¥–æ–≤–æ–π –ª–∏–Ω–∏–∏',
                    color: '#ff6b35',
                    content: `
                        <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –û—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Ç—Ä–æ–π–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –∏ –∫–∞—Å–∞–Ω–∏—è—Ö.</p>
                        <h3>–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–æ—Å—Ö–æ–¥—è—â–µ–π —Ç—Ä–µ–Ω–¥–æ–≤–æ–π –ª–∏–Ω–∏–∏:</h3>
                        <ol>
                            <li>1 ‚Äî –•–∞–π</li>
                            <li>2 ‚Äî –õ–æ–≤</li>
                            <li>3 ‚Äî –ü–µ—Ä–µ—Ö–∞–π</li>
                            <li>–ñ–¥—ë–º 4 ‚Äî –õ–æ–≤, —Å–æ–µ–¥–∏–Ω—è–µ–º 2 –∏ 4 ‚Äî –ø–æ–ª—É—á–∞–µ–º —Ç—Ä–µ–Ω–¥–æ–≤—É—é –ª–∏–Ω–∏—é</li>
                        </ol>
                        <h3>–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –Ω–∏—Å—Ö–æ–¥—è—â–µ–π —Ç—Ä–µ–Ω–¥–æ–≤–æ–π –ª–∏–Ω–∏–∏:</h3>
                        <ol>
                            <li>1 ‚Äî –õ–æ–≤</li>
                            <li>2 ‚Äî –•–∞–π</li>
                            <li>3 ‚Äî –ü–µ—Ä–µ–ª–æ–≤</li>
                            <li>–ñ–¥—ë–º 4 ‚Äî –•–∞–π, —Å–æ–µ–¥–∏–Ω—è–µ–º 2 –∏ 4</li>
                        </ol>
                        <p><strong>–¢—Ä–µ–±—É–µ—Ç—Å—è:</strong> –ú–∏–Ω–∏–º—É–º 2‚Äì3 –∫–∞—Å–∞–Ω–∏—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ª–∏–Ω–∏–∏</p>
                        <div class="signal-indicator signal-neutral">–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: NEUTRAL</div>
                    `
                },
                channel: {
                    title: '–¢—Ä–µ–Ω–¥–æ–≤—ã–π –∫–∞–Ω–∞–ª',
                    color: '#9c27b0',
                    content: `
                        <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ç—Ä–æ–π–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏—è—Ö –∏ –º–æ—â–Ω—ã—Ö –∏–º–ø—É–ª—å—Å–∞—Ö.</p>
                        <h3>–í–æ—Å—Ö–æ–¥—è—â–∏–π –∫–∞–Ω–∞–ª:</h3>
                        <ol>
                            <li>1 ‚Äî –•–∞–π</li>
                            <li>2 ‚Äî –õ–æ–≤</li>
                            <li>3 ‚Äî –ü–µ—Ä–µ—Ö–∞–π</li>
                            <li>–°–æ–µ–¥–∏–Ω—è–µ–º 1 –∏ 3, –∫–æ–ø–∏—Ä—É–µ–º —ç—Ç—É –ª–∏–Ω–∏—é –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞ —Ç–æ—á–∫—É 2</li>
                            <li>–ñ–¥—ë–º –ø—Ä–æ–±–æ–π –≤–Ω–∏–∑</li>
                        </ol>
                        <h3>–ù–∏—Å—Ö–æ–¥—è—â–∏–π –∫–∞–Ω–∞–ª:</h3>
                        <ol>
                            <li>1 ‚Äî –õ–æ–≤</li>
                            <li>2 ‚Äî –•–∞–π</li>
                            <li>3 ‚Äî –ü–µ—Ä–µ–ª–æ–≤</li>
                            <li>–°–æ–µ–¥–∏–Ω—è–µ–º 1 –∏ 3, –∫–æ–ø–∏—Ä—É–µ–º –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞ 2</li>
                            <li>–ñ–¥—ë–º –ø—Ä–æ–±–æ–π –≤–≤–µ—Ä—Ö</li>
                        </ol>
                        <div class="signal-indicator signal-sell">–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: SELL</div>
                    `
                }
            };

            const strategy = strategies[strategyType];
            const titleEl = document.getElementById('strategyDetailTitle');
            const contentEl = document.getElementById('strategyDetailContent');
            
            if (titleEl) titleEl.textContent = strategy.title;
            if (contentEl) contentEl.innerHTML = strategy.content;
            
            const detailSection = document.querySelector('.strategy-detail');
            if (detailSection) {
                detailSection.style.setProperty('--strategy-color', strategy.color);
            }
            
            updateBackButton();
        }

        // –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
        function updateBackButton() {
            const backBtn = document.getElementById('floatingBackBtn');
            if (backBtn) {
                if (navigationStack.length > 0) {
                    backBtn.classList.add('show');
                } else {
                    backBtn.classList.remove('show');
                }
            }
        }

        function goBack() {
            if (navigationStack.length > 0) {
                const previousPage = navigationStack.pop();
                currentPage = previousPage;
                
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                document.getElementById(previousPage + 'Page').classList.add('active');
                
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                const pageIndex = ['home', 'strategies', 'family', 'news', 'analytics', 'support'].indexOf(previousPage);
                if (pageIndex !== -1) {
                    document.querySelectorAll('.nav-item')[pageIndex].classList.add('active');
                }
                
                updateBackButton();
                
                if (previousPage === 'strategies') {
                    setTimeout(() => {
                        initTradingViewChart('mainChart');
                    }, 100);
                }
            }
        }

        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
        function loadStats() {
            const statsData = JSON.parse(localStorage.getItem('strategyStats') || '{"ma14": 0, "trendline": 0, "channel": 0, "hasUsed": false}');
            
            if (statsData.hasUsed) {
                const statsResult = document.getElementById('statsResult');
                if (statsResult) {
                    statsResult.style.display = 'block';
                    updateStatsDisplay(statsData);
                }
            }
        }

        function setStrategyUsage(hasUsed) {
            const statsData = JSON.parse(localStorage.getItem('strategyStats') || '{"ma14": 0, "trendline": 0, "channel": 0, "hasUsed": false}');
            statsData.hasUsed = hasUsed;
            
            const statsResult = document.getElementById('statsResult');
            if (statsResult) {
                if (hasUsed) {
                    statsResult.style.display = 'block';
                    updateStatsDisplay(statsData);
                } else {
                    statsResult.style.display = 'none';
                    const resetStats = {"ma14": 0, "trendline": 0, "channel": 0, "hasUsed": false};
                    localStorage.setItem('strategyStats', JSON.stringify(resetStats));
                }
            }
            
            localStorage.setItem('strategyStats', JSON.stringify(statsData));
        }

        function incrementStrategyUsage(strategyType) {
            const statsData = JSON.parse(localStorage.getItem('strategyStats') || '{"ma14": 0, "trendline": 0, "channel": 0, "hasUsed": false}');
            
            if (statsData.hasUsed) {
                statsData[strategyType] = (statsData[strategyType] || 0) + 1;
                localStorage.setItem('strategyStats', JSON.stringify(statsData));
                updateStatsDisplay(statsData);
            }
        }

        function updateStatsDisplay(statsData) {
            const total = (statsData.ma14 || 0) + (statsData.trendline || 0) + (statsData.channel || 0);
            
            const totalUsage = document.getElementById('totalUsage');
            const ma14Count = document.getElementById('ma14Count');
            const trendlineCount = document.getElementById('trendlineCount');
            const channelCount = document.getElementById('channelCount');
            
            if (totalUsage) totalUsage.textContent = total;
            if (ma14Count) ma14Count.textContent = statsData.ma14 || 0;
            if (trendlineCount) trendlineCount.textContent = statsData.trendline || 0;
            if (channelCount) channelCount.textContent = statsData.channel || 0;
        }

        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥—Ä—É–≥–∞
        function inviteFriend() {
            const inviteLink = `https://t.me/TersaaMtBot?start=${userProfile?.firstName || 'user'}_invite`;
            const message = `üöÄ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ TersaaMt!\n\n–õ—É—á—à–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç.\n\n${inviteLink}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'TersaaMt - –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏',
                    text: message,
                    url: inviteLink
                });
            } else {
                navigator.clipboard.writeText(message).then(() => {
                    tg.showAlert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                });
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TradingView –≥—Ä–∞—Ñ–∏–∫–∞
        function initTradingViewChart(containerId) {
            if (typeof TradingView !== 'undefined') {
                const chartStyle = currentChartType === 'candles' ? "1" : "8";
                
                new TradingView.widget({
                    "width": "100%",
                    "height": 500,
                    "symbol": `BINANCE:${currentCoin}`,
                    "interval": "1H",
                    "timezone": "Asia/Tashkent",
                    "theme": "dark",
                    "style": chartStyle,
                    "locale": currentLanguage,
                    "toolbar_bg": "#0a0e27",
                    "enable_publishing": false,
                    "withdateranges": true,
                    "range": "3M",
                    "hide_side_toolbar": false,
                    "allow_symbol_change": true,
                    "details": true,
                    "hotlist": true,
                    "calendar": true,
                    "studies": [
                        "MASimple@tv-basicstudies"
                    ],
                    "container_id": containerId,
                    "studies_overrides": {
                        "MASimple.length": 14,
                        "MASimple.plot.color": "#00c851"
                    },
                    "overrides": {
                        "paneProperties.background": "#0a0e27",
                        "paneProperties.vertGridProperties.color": "#2a2f4a",
                        "paneProperties.horzGridProperties.color": "#2a2f4a",
                        "symbolWatermarkProperties.transparency": 90,
                        "scalesProperties.textColor": "#ffffff",
                        "mainSeriesProperties.candleStyle.upColor": "#00c851",
                        "mainSeriesProperties.candleStyle.downColor": "#ff4444",
                        "mainSeriesProperties.candleStyle.drawWick": true,
                        "mainSeriesProperties.candleStyle.drawBorder": true,
                        "mainSeriesProperties.candleStyle.borderColor": "#378658",
                        "mainSeriesProperties.candleStyle.borderUpColor": "#00c851",
                        "mainSeriesProperties.candleStyle.borderDownColor": "#ff4444",
                        "mainSeriesProperties.candleStyle.wickUpColor": "#00c851",
                        "mainSeriesProperties.candleStyle.wickDownColor": "#ff4444",
                        "mainSeriesProperties.barStyle.upColor": "#00c851",
                        "mainSeriesProperties.barStyle.downColor": "#ff4444"
                    }
                });
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
        async function loadNews() {
            const newsContainer = document.getElementById('newsContainer');
            if (!newsContainer) return;
            
            try {
                const mockNews = [
                    {
                        title: "Bitcoin –¥–æ—Å—Ç–∏–≥ –Ω–æ–≤–æ–≥–æ –º–∞–∫—Å–∏–º—É–º–∞ –≤ $75,000",
                        summary: "–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–π —Ä—ã–Ω–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç –Ω–∞ —Ñ–æ–Ω–µ –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫ —Ü–∏—Ñ—Ä–æ–≤—ã–º –∞–∫—Ç–∏–≤–∞–º.",
                        date: "2025-08-05T10:30:00Z",
                        source: "CoinTelegraph",
                        importance: "high"
                    },
                    {
                        title: "Ethereum –≥–æ—Ç–æ–≤–∏—Ç—Å—è –∫ –∫—Ä—É–ø–Ω–æ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é",
                        summary: "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ Ethereum –æ–±—ä—è–≤–∏–ª–∏ –æ –ø–ª–∞–Ω–∞—Ö –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–≤–∞—Ä—Ç–∞–ª–µ.",
                        date: "2025-08-05T08:15:00Z",
                        source: "CryptoPanic",
                        importance: "high"
                    },
                    {
                        title: "–ù–æ–≤—ã–π —Ç–æ–∫–µ–Ω TERSAA –∑–∞–ø—É—â–µ–Ω –Ω–∞ Binance",
                        summary: "–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–π DeFi –ø—Ä–æ–µ–∫—Ç TERSAA –Ω–∞—á–∞–ª —Ç–æ—Ä–≥–æ–≤–ª—é –Ω–∞ –∫—Ä—É–ø–Ω–µ–π—à–µ–π –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂–µ –º–∏—Ä–∞ —Å –æ–±—ä–µ–º–æ–º $50M –≤ –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å.",
                        date: "2025-08-04T16:45:00Z",
                        source: "Binance News",
                        importance: "medium"
                    },
                    {
                        title: "–†–µ–≥—É–ª—è—Ç–æ—Ä—ã –°–®–ê –æ–¥–æ–±—Ä–∏–ª–∏ –Ω–æ–≤—ã–µ ETF",
                        summary: "SEC –¥–∞–ª –∑–µ–ª–µ–Ω—ã–π —Å–≤–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –Ω–æ–≤—ã–º –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–º ETF, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–ª–µ—á—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏.",
                        date: "2025-08-04T14:20:00Z",
                        source: "Reuters",
                        importance: "high"
                    },
                    {
                        title: "–ê–ª—å—Ç–∫–æ–∏–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–æ—Å—Ç –Ω–∞ 25%",
                        summary: "–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π —Ä–æ—Å—Ç –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞ –Ω–∞ —Ñ–æ–Ω–µ –æ–±—â–µ–≥–æ –æ–ø—Ç–∏–º–∏–∑–º–∞ —Ä—ã–Ω–∫–∞.",
                        date: "2025-08-04T12:00:00Z",
                        source: "CoinMarketCap",
                        importance: "medium"
                    },
                    {
                        title: "–ù–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è –∫—Ä–∏–ø—Ç–æ",
                        summary: "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ–≥—É–ª—è—Ç–æ—Ä—ã –æ–±–Ω–æ–≤–∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏—é –¥–æ—Ö–æ–¥–æ–≤ –æ—Ç –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü.",
                        date: "2025-08-03T09:30:00Z",
                        source: "Financial Times",
                        importance: "low"
                    }
                ];

                allNews = mockNews;
                displayNews(filterNewsByImportance(allNews, currentNewsFilter));
                
            } catch (error) {
                newsContainer.innerHTML = '<div class="loading">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π</div>';
            }
        }

        function filterNewsByImportance(news, filter) {
            if (filter === 'all') return news;
            return news.filter(item => item.importance === filter);
        }

        function displayNews(newsArray) {
            const newsContainer = document.getElementById('newsContainer');
            if (!newsContainer) return;
            
            newsContainer.innerHTML = '';
            
            if (newsArray.length === 0) {
                newsContainer.innerHTML = '<div class="loading">–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                return;
            }
            
            newsArray.forEach(news => {
                const newsItem = document.createElement('div');
                newsItem.className = 'news-item';
                
                const date = new Date(news.date);
                const formattedDate = date.toLocaleDateString('ru-RU', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const importanceStars = {
                    'high': '‚≠ê‚≠ê‚≠ê',
                    'medium': '‚≠ê‚≠ê',
                    'low': '‚≠ê'
                };
                
                const importanceClass = {
                    'high': 'high',
                    'medium': 'medium',
                    'low': 'low'
                };
                
                newsItem.innerHTML = `
                    <div class="news-title">${news.title}</div>
                    <div class="news-summary">${news.summary}</div>
                    <div class="news-date">
                        <span class="news-importance ${importanceClass[news.importance]}">${importanceStars[news.importance]}</span>
                        ${formattedDate} ‚Ä¢ ${news.source}
                    </div>
                `;
                
                newsContainer.appendChild(newsItem);
            });
        }

        function filterNews(importance) {
            currentNewsFilter = importance;
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            const activeFilter = document.querySelector(`[data-filter="${importance}"]`);
            if (activeFilter) activeFilter.classList.add('active');
            
            displayNews(filterNewsByImportance(allNews, importance));
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
        const supportForm = document.getElementById('supportForm');
        if (supportForm) {
            supportForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const supportData = {
                    name: document.getElementById('supportName').value,
                    subject: document.getElementById('supportSubject').value,
                    description: document.getElementById('supportDescription').value,
                    userProfile: userProfile,
                    timestamp: new Date().toISOString()
                };

                tg.sendData(JSON.stringify(supportData));
                tg.showAlert('–í–∞—à –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
                supportForm.reset();
            });
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function toggleSettingsDropdown() {
            const dropdown = document.getElementById('settingsDropdown');
            if (dropdown) {
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            }
        }

        function setLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('selectedLanguage', lang);
            updateLanguage();
            toggleSettingsDropdown();
        }

        function setChartType(type) {
            currentChartType = type;
            localStorage.setItem('chartType', type);
            if (currentPage === 'strategies') {
                setTimeout(() => {
                    initTradingViewChart('mainChart');
                }, 100);
            }
            tg.showAlert(`–¢–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞: ${type === 'candles' ? '–Ø–ø–æ–Ω—Å–∫–∏–µ —Å–≤–µ—á–∏' : '–ë–∞—Ä—ã'}`);
            toggleSettingsDropdown();
        }

        function activatePromo() {
            const promoInput = document.getElementById('promoInput');
            if (!promoInput) return;
            
            const promoCode = promoInput.value.trim();
            
            if (promoCode === '–∞–≤–∏—Ä–ø–º—â–≤—Ü–∏') {
                tg.showAlert('üéâ –ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –í—ã –ø–æ–ª—É—á–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–º–∏—É–º —Ñ—É–Ω–∫—Ü–∏—è–º!');
                localStorage.setItem('premiumAccess', 'true');
                promoInput.value = '';
            } else if (promoCode === '') {
                tg.showAlert('‚ùå –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥');
            } else {
                tg.showAlert('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥');
            }
            toggleSettingsDropdown();
        }

        function showFAQ() {
            toggleSettingsDropdown();
            tg.showAlert(`‚ùì FAQ:\n\n1. –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏?\n   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–°—Ç—Ä–∞—Ç–µ–≥–∏–∏" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é\n\n2. –ö–∞–∫ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥?\n   - –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥\n\n3. –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –≤–∞–ª—é—Ç–Ω—É—é –ø–∞—Ä—É?\n   - –í —Ä–∞–∑–¥–µ–ª–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é –º–æ–Ω–µ—Ç—É\n\n4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞:\n   - –û–±—Ä–∞—â–∞–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª "–ü–æ–¥–¥–µ—Ä–∂–∫–∞"`);
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–Ω–µ—Ç–∞–º–∏
        function selectCoin(symbol) {
            currentCoin = symbol;
            
            document.querySelectorAll('.coin-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            const activeCoin = document.querySelector(`[data-coin="${symbol}"]`);
            if (activeCoin) activeCoin.classList.add('active');
            
            setTimeout(() => {
                initTradingViewChart('mainChart');
            }, 100);
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª–µ–º
        function showProfile() {
            navigationStack.push(currentPage);
            currentPage = 'profile';
            
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            const profilePage = document.getElementById('profilePage');
            if (profilePage) profilePage.classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            loadProfileData();
            updateBackButton();
        }
        
        function loadProfileData() {
            if (!userProfile) return;
            
            const experienceMap = {
                'beginner': '–ù–æ–≤–∏—á–æ–∫ (0-6 –º–µ—Å—è—Ü–µ–≤)',
                'intermediate': '–°—Ä–µ–¥–Ω–∏–π (6 –º–µ—Å—è—Ü–µ–≤ - 2 –≥–æ–¥–∞)',
                'advanced': '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π (2-5 –ª–µ—Ç)',
                'expert': '–≠–∫—Å–ø–µ—Ä—Ç (5+ –ª–µ—Ç)'
            };
            
            const profileName = document.getElementById('profileName');
            const profileExperience = document.getElementById('profileExperience');
            const profileFirstName = document.getElementById('profileFirstName');
            const profileLastName = document.getElementById('profileLastName');
            const profileBirthYear = document.getElementById('profileBirthYear');
            const profileExp = document.getElementById('profileExp');
            const profileRegistered = document.getElementById('profileRegistered');
            const profilePremium = document.getElementById('profilePremium');
            
            if (profileName) profileName.textContent = `${userProfile.firstName} ${userProfile.lastName}`;
            if (profileExperience) profileExperience.textContent = experienceMap[userProfile.experience] || userProfile.experience;
            if (profileFirstName) profileFirstName.textContent = userProfile.firstName;
            if (profileLastName) profileLastName.textContent = userProfile.lastName;
            if (profileBirthYear) profileBirthYear.textContent = userProfile.birthYear;
            if (profileExp) profileExp.textContent = experienceMap[userProfile.experience] || userProfile.experience;
            
            const registeredDate = new Date(userProfile.timestamp);
            if (profileRegistered) profileRegistered.textContent = registeredDate.toLocaleDateString('ru-RU');
            
            const hasPremium = localStorage.getItem('premiumAccess') === 'true';
            if (profilePremium) {
                profilePremium.textContent = hasPremium ? '–î–∞' : '–ù–µ—Ç';
                profilePremium.style.color = hasPremium ? '#00c851' : '#ffc107';
            }
        }
        
        function editProfile() {
            tg.showAlert('üîß –§—É–Ω–∫—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!');
        }

        function updateLanguage() {
            const t = translations[currentLanguage];
            
            const authTitle = document.querySelector('.auth-title');
            const firstNameLabel = document.querySelector('label[for="firstName"]');
            const lastNameLabel = document.querySelector('label[for="lastName"]');
            const birthYearLabel = document.querySelector('label[for="birthYear"]');
            const experienceLabel = document.querySelector('label[for="experience"]');
            const btnPrimary = document.querySelector('.btn-primary');
            
            if (authTitle) authTitle.textContent = t.welcome;
            if (firstNameLabel) firstNameLabel.textContent = t.firstName;
            if (lastNameLabel) lastNameLabel.textContent = t.lastName;
            if (birthYearLabel) birthYearLabel.textContent = t.birthYear;
            if (experienceLabel) experienceLabel.textContent = t.experience;
            if (btnPrimary) btnPrimary.textContent = t.continue;
            
            const navItems = document.querySelectorAll('.nav-label');
            if (navItems.length >= 6) {
                navItems[0].textContent = t.home;
                navItems[1].textContent = t.strategies;
                navItems[2].textContent = t.family;
                navItems[3].textContent = t.news;
                navItems[4].textContent = t.analytics;
                navItems[5].textContent = t.support;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
        window.addEventListener('load', () => {
            const savedLanguage = localStorage.getItem('selectedLanguage');
            if (savedLanguage && translations[savedLanguage]) {
                currentLanguage = savedLanguage;
                updateLanguage();
            }
            
            const savedChartType = localStorage.getItem('chartType');
            if (savedChartType) {
                currentChartType = savedChartType;
            }
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ dropdown –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.addEventListener('click', (e) => {
            const dropdown = document.getElementById('settingsDropdown');
            const settingsBtn = document.querySelector('.settings-btn');
            
            if (dropdown && settingsBtn && !dropdown.contains(e.target) && !settingsBtn.contains(e.target)) {
                dropdown.style.display = 'none';
            }
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö Telegram WebApp
        if (window.Telegram?.WebApp?.initDataUnsafe?.user) {
            const telegramUser = window.Telegram.WebApp.initDataUnsafe.user;
            
            if (telegramUser.first_name) {
                const firstNameInput = document.getElementById('firstName');
                if (firstNameInput) firstNameInput.value = telegramUser.first_name;
            }
            if (telegramUser.last_name) {
                const lastNameInput = document.getElementById('lastName');
                if (lastNameInput) lastNameInput.value = telegramUser.last_name;
            }
            if (telegramUser.username) {
                const supportNameInput = document.getElementById('supportName');
                if (supportNameInput) {
                    supportNameInput.value = telegramUser.first_name + ' ' + (telegramUser.last_name || '');
                }
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ TradingView –≥—Ä–∞—Ñ–∏–∫–∞
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                const mainChart = document.getElementById('mainChart');
                if (mainChart) {
                    initTradingViewChart('mainChart');
                }
            }, 1000);
        });

        console.log('TersaaMt Trading App ‚úÖ v2.3 - –ó–∞–≥–æ–ª–æ–≤–æ–∫ TersaaMt –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–µ–º–Ω–æ-—Å–∏–Ω—è—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —É–≥–ª–æ–≤');
    </script>
</body>
</html> 